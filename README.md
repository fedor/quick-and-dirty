# Quick-and-dirty
HTML page generation from [Mustache](https://mustache.github.io/)/[Markdown](https://github.com/markdown-it/markdown-it) template

## How it works
`Template file + Mustache payload JSON file --> Mustache processor --> Markdown processor --> HTML file`  
Autogen mode is avaliable to regenerate HTML files on the fly.  
[TOC](https://github.com/nagaozen/markdown-it-toc-done-right) could be autogenerated and placed via `[toc]` string.

## Why?
Quick-and-dirty original purpose is to quickly generate Markdown based single-page documentation. Esp. if multiple versions have to be maintained at the same time e.g. production and sandbox, public and internal.

# Example
Check `index.md` template and two final versions: `index.html` and `private.html`. Certain parts of `private.html` are removed in "public" version.

Each version is based on its own Mustache JSON payload:
```
index.md + index.json   = index.html
index.md + private.json = private.html
```

## Script

Usage format:
```
node index.js AUTOGEN TEMPLATE PAYLOAD OUTPUT
```

Argument | Description                                                                        | Default
---------|------------------------------------------------------------------------------------|--------------
AUTOGEN  | Controls if OUTPUT must be regenerated on TEMPLATE or PAYLOAD change (true\|false) | false
TEMPLATE | Mustache/Markdown template file name                                               | ./index.md
PAYLOAD  | Mustache payload JSON file                                                         | ./index.json
OUTPUT   | Output HTML file                                                                   | ./index.html

## How to use

1. Start by cloning this repo
2. Use `index.md` as a base for page template
3. Use `index.json` and `private.json` as a base for Mustache payloads
4. Refer to `scripts` section of `package.json` for a base of development and production page generation scripts
